{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{379:function(t,e,n){\"use strict\";n.r(e);var a=n(44),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[n(\"h1\",{attrs:{id:\"使用requestanimationframe模拟settimeout和setinterval\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#使用requestanimationframe模拟settimeout和setinterval\"}},[t._v(\"#\")]),t._v(\" 使用requestAnimationFrame模拟setTimeout和setInterval\")]),t._v(\" \"),n(\"h2\",{attrs:{id:\"_1-模拟settimeout\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-模拟settimeout\"}},[t._v(\"#\")]),t._v(\" 1.模拟setTimeout\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"const mockSetTimeOut = (cb,time = 0) =>{\\n   let t = 0;\\n   let timer = () => {\\n        t += 1;\\n        if ((t * (1000 / 60)) > time) {\\n          cb();\\n          cancelAnimationFrame(timer);\\n        } else {\\n          requestAnimationFrame(timer);\\n        }\\n    }\\n    requestAnimationFrame(timer);\\n}\\nmockSetTimeOut(()=> {\\n  console.log('1s后');\\n}, 1000)\\n\")])])]),n(\"h2\",{attrs:{id:\"_2-模拟setinterval\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-模拟setinterval\"}},[t._v(\"#\")]),t._v(\" 2.模拟setInterval\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"const mockSetInterval = (cb,time = 0) => {\\n    let t = 0;\\n    let timer = () => {\\n        t += 1;\\n        requestAnimationFrame(timer);\\n        if ((t * (1000 / 60)) > time) {\\n          t = 0;\\n          cb();\\n        }\\n    };\\n    requestAnimationFrame(timer);\\n}\\nlet a = 0;\\nmockSetInterval(()=> {\\n  a+= 1;\\n  console.log(`${a}s后`);\\n}, 1000)\\n\")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);","extractedComments":[]}