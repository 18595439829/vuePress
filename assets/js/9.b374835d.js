(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{364:function(e,t,n){"use strict";n.r(t);var s=n(44),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"cesium常用地图操作-二"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cesium常用地图操作-二"}},[e._v("#")]),e._v(" Cesium常用地图操作(二)")]),e._v(" "),n("h2",{attrs:{id:"_1-地图添加广告牌"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-地图添加广告牌"}},[e._v("#")]),e._v(" 1. 地图添加广告牌")]),e._v(" "),n("p",[e._v("官方示例 "),n("a",{attrs:{href:"https://cesium.com/docs/analytics-sdk-reference/EntityCollection.html?classFilter=entity",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cesium.com/docs/analytics-sdk-reference/EntityCollection.html?classFilter=entity"),n("OutboundLink")],1),e._v("\n官方文档 "),n("a",{attrs:{href:"https://cesium.com/docs/analytics-sdk-reference/Billboard.html?classFilter=billboard",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cesium.com/docs/analytics-sdk-reference/Billboard.html?classFilter=billboard"),n("OutboundLink")],1),e._v("\n中文网文档 "),n("a",{attrs:{href:"http://cesium.xin/cesium/cn/Documentation1.62/EntityCollection.html?classFilter=entity",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://cesium.xin/cesium/cn/Documentation1.62/EntityCollection.html?classFilter=entity"),n("OutboundLink")],1),e._v(" "),n("img",{attrs:{src:"/img/%E5%B9%BF%E5%91%8A%E7%89%8C%E7%A4%BA%E4%BE%8B.jpg",alt:"广告牌示例.jpg"}})]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("viewer.entities.add({\n          id: 'billboard', // feature的id\n          name: '广告牌', // feature 的名字\n          position: Cesium.Cartesian3.fromDegrees(120, 30, 100), // 广告牌在地图上的位置,@params(经度{Number},维度{Number},高度{Number})\n          billboard: {\n            image: 'img.url', // 图片的url,可以使canvas\n            verticalOrigin: Cesium.VerticalOrigin.BOTTOM, // 广告牌的对齐方式\n          },\n        });\nviewer.entities.removeById('billboard'); 从地图上中移除对应id的实体 @params{id}\n")])])]),n("h2",{attrs:{id:"_2-经纬度转化为3d笛卡尔坐标"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-经纬度转化为3d笛卡尔坐标"}},[e._v("#")]),e._v(" 2.经纬度转化为3D笛卡尔坐标")]),e._v(" "),n("p",[e._v("官网 "),n("a",{attrs:{href:"https://cesium.com/docs/analytics-sdk-reference/Cartesian3.html?classFilter=Cartesian3",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cesium.com/docs/analytics-sdk-reference/Cartesian3.html?classFilter=Cartesian3"),n("OutboundLink")],1),e._v("\n中文网 "),n("a",{attrs:{href:"http://cesium.xin/cesium/cn/Documentation1.62/Cartesian3.html?classFilter=Cartesian3",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://cesium.xin/cesium/cn/Documentation1.62/Cartesian3.html?classFilter=Cartesian3"),n("OutboundLink")],1)]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Cesium.Cartesian3.fromDegrees(longitude, latitude, height)\n// @params(经度{Number},维度{Number},高度{Number})\n")])])]),n("h2",{attrs:{id:"_3-地图添加鼠标左键点击事件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-地图添加鼠标左键点击事件"}},[e._v("#")]),e._v(" 3.地图添加鼠标左键点击事件")]),e._v(" "),n("p",[e._v("官网 "),n("a",{attrs:{href:"https://cesium.com/docs/analytics-sdk-reference/ScreenSpaceEventHandler.html?classFilter=ScreenSpaceEventHandler",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cesium.com/docs/analytics-sdk-reference/ScreenSpaceEventHandler.html?classFilter=ScreenSpaceEventHandler"),n("OutboundLink")],1),e._v("\n中文网 "),n("a",{attrs:{href:"http://cesium.xin/cesium/cn/Documentation1.62/ScreenSpaceEventHandler.html?classFilter=ScreenSpaceEventHandler",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://cesium.xin/cesium/cn/Documentation1.62/ScreenSpaceEventHandler.html?classFilter=ScreenSpaceEventHandler"),n("OutboundLink")],1)]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const handler = new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);\nhandler.setInputAction((e) => {\n  console.log(e); // 鼠标左键点击位置在浏览器视图上的像素位置\n  const pick = viewer.scene.pick(e.position); // 获取地图左键点击位置的信息\n  // pick.id: 如果地图上添加billboard等,点击后,pick.id是添加的元素,pick.id.id就是feature的id,可以以此区分多个billboard被点击\n  const  scenePosition = viewer.scene.pickPosition(e.position); // 拾取浏览器视图的像素位置,转化为3D笛卡尔坐标\n}, Cesium.ScreenSpaceEventType.LEFT_CLICK); // 左键点击事件(必传项)\n")])])]),n("h2",{attrs:{id:"_4-监听地图渲染变化-包括拖拽-缩放等操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-监听地图渲染变化-包括拖拽-缩放等操作"}},[e._v("#")]),e._v(" 4. 监听地图渲染变化(包括拖拽,缩放等操作)")]),e._v(" "),n("p",[e._v("官网 "),n("a",{attrs:{href:"https://cesium.com/docs/analytics-sdk-reference/Scene.html?classFilter=scene",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://cesium.com/docs/analytics-sdk-reference/Scene.html?classFilter=scene"),n("OutboundLink")],1),e._v("\n中文网 "),n("a",{attrs:{href:"http://cesium.xin/cesium/cn/Documentation1.62/Scene.html?classFilter=scene",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://cesium.xin/cesium/cn/Documentation1.62/Scene.html?classFilter=scene"),n("OutboundLink")],1)]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("viewer.scene.postRender.addEventListener(() => { // 每一帧都去计算气泡的正确位置\n      const  scenePosition = viewer.scene.pickPosition(position); // 拾取浏览器视图的像素位置,转化为3D笛卡尔坐标,[见第3条]\n      const windowPosition = new Cesium.Cartesian2(); // new一个2D笛卡尔点实例\n      Cesium.SceneTransforms.wgs84ToWindowCoordinates(viewer.scene, scenePosition, windowPosition); // 将WGS84坐标中的位置转换浏览器视图的像素位置,@params(地图场景{scene}, 3D笛卡尔坐标{position}, 2D笛卡尔点实例{Cartesian2})\n      const cood = {\n          x: windowPosition.x, //  地图移动后,元素在浏览器视图的新像素位置\n          y: windowPosition.y, \n      };\n});\n")])])]),n("h2",{attrs:{id:"_5-将地图场景移动到一个或多个实体-或者地图某个点位"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-将地图场景移动到一个或多个实体-或者地图某个点位"}},[e._v("#")]),e._v(" 5.将地图场景移动到一个或多个实体,或者地图某个点位")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("viewer.scene.camera.flyTo({\n        duration: 1, // 飞的过渡动画时间\n        destination: Cesium.Cartesian3.fromDegrees(\n          120.083767, // 地图经度\n          30.235533, // 地图维度\n          7000, // 地图高度\n        ),\n        orientation: {\n          // heading: Cesium.Math.toRadians(1000),\n          pitch: Cesium.Math.toRadians(-45), // 视角\n        },\n      });\n")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);