(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{415:function(n,t,s){"use strict";s.r(t);var e=s(44),i=Object(e.a)({},(function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h1",{attrs:{id:"vue自定义进度条插件-vue-use"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue自定义进度条插件-vue-use"}},[n._v("#")]),n._v(" vue自定义进度条插件(Vue.use())")]),n._v(" "),s("h3",{attrs:{id:"_1-progress-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-progress-vue"}},[n._v("#")]),n._v(" 1. Progress.vue")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("<template>\n  <div\n    v-show=\"isShow\"\n    :class=\"$style['container']\"\n    :style=\"{ width: `${theWidth}%`, height: `${height}px`, background: theBackground }\"\n  >\n    \x3c!-- <div v-show=\"isShow\" :class=\"$style['progress']\" /> --\x3e\n  </div>\n</template>\n<script>\nexport default {\n  name: 'Progress',\n  props: {\n    height: {\n      type: Number,\n      required: false,\n      default: 5,\n    },\n    background: {\n      type: String,\n      required: false,\n      default: '#00b35c',\n    },\n    hideTime: {\n      type: Number,\n      required: false,\n      default: 300,\n    },\n  },\n  data() {\n    return {\n      theWidth: 0,\n      theBackground: this.background,\n      isShow: false,\n    };\n  },\n  watch: {\n    theWidth(v) {\n      if (v >= 0 && v < 50) {\n        this.setWidth(5);\n      } else if (v >= 50 && v < 80) {\n        this.setWidth(10);\n      } else if (v >= 80 && v < 95) {\n        this.setWidth(50);\n      } else if (v >= 95 && v < 99) {\n        this.setWidth(100);\n      }\n    },\n  },\n  // mounted() {\n  //   this.start();\n  //   setTimeout(()=> {\n  //     this.finish();\n  //   },5000)\n  // },\n  methods: {\n    setWidth(time) {\n      setTimeout(() => {\n        this.theWidth += 0.1;\n      }, time);\n    },\n    start() {\n      this.theWidth = 0;\n      this.isShow = true;\n      this.theBackground = '#00b35c';\n      this.setWidth(50);\n      console.log('progress.start()')\n    },\n    finish() {\n      this.theWidth = 100;\n      this.theBackground = '#00b35c';\n      setTimeout(() => {\n        this.isShow = false;\n      }, this.hideTime);\n    },\n    fail() {\n      this.theWidth = 100;\n      this.theBackground = '#ff4a46';\n      setTimeout(() => {\n        this.isShow = false;\n      }, this.hideTime);\n    },\n  },\n};\n<\/script>\n<style lang=\"less\" module>\n.container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 99999;\n}\n</style>\n")])])]),s("h3",{attrs:{id:"_2-progress-ts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-progress-ts"}},[n._v("#")]),n._v(" 2.progress.ts")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('import Progress from "@/components/progress/Progress.vue";\nclass Pro {\n  instense: any;\n  constructor(Vue: any, options = {}) {\n    const Pro = Vue.extend(Progress);\n    this.instense = new Pro({\n      propsData: options,\n    });\n    let progress = document.createElement("div");\n    document.body.appendChild(progress);\n    this.instense.$mount(progress);\n  }\n  start() {\n    this.instense.start();\n  }\n  finish() {\n    this.instense.finish();\n  }\n  fail() {\n    this.instense.fail();\n  }\n}\nconst install = function(Vue: any, options: {}) {\n  const progress = new Pro(Vue, options);\n  //  通过原型对象去拓展对应的插件，可以使得所有的vue实例直接访问\n  Vue.prototype.$progress = progress;\n};\nexport default install;\n')])])]),s("h3",{attrs:{id:"_3-在main-ts中引入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-在main-ts中引入"}},[n._v("#")]),n._v(" 3.在main.ts中引入")]),n._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("import Progress from '@/components/progress/index';\n\nVue.use(Progress);\n")])])])])}),[],!1,null,null,null);t.default=i.exports}}]);